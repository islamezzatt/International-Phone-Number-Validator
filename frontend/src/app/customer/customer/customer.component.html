<div class = "container">
    <div class = "card">
        <h3 class = "text-center"> Customer Number List</h3>
        <div class="col-md-8">
            <div class="input-group mb-3">
              <input
                type="text"
                class="form-control"
                placeholder="Search by country"
                [(ngModel)]="country"
              />
              <div class="input-group-append">
                <button
                  class="btn btn-outline-secondary"
                  type="button"
                  (click)="searchCountry()"
                >
                  Search
                </button>
              </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="input-group mb-3">
              <input
                type="text"
                class="form-control"
                placeholder="Search by state"
                [(ngModel)]="state"
              />
              <div class="input-group-append">
                <button
                  class="btn btn-outline-secondary"
                  type="button"
                  (click)="searchState()"
                >
                  Search
                </button>
              </div>
            </div>
        </div>
        <div class="col-md-12">
            <pagination-controls
              previousLabel="Prev"
              nextLabel="Next"
              [responsive]="true"
              (pageChange)="handlePageChange($event)"
            ></pagination-controls>
          </div>
        
        <div class = "card-body">
            <table class ="table table-striped">
                <thead>
                    <th>Name</th>
                    <th>Country</th>
                    <th>State</th>
                    <th>Country Code</th>
                    <th>Local Number</th>
                </thead>
                <tbody>
                    <tr *ngFor = "let customer of customers | paginate : {
                            itemsPerPage: pageSize,
                            currentPage: page,
                            totalItems: count
                        };
                        let i = index
                        "
                    >
                        <td>{{customer.name}}</td>
                        <td>{{customer.country}}</td>
                        <td>{{customer.state}}</td>
                        <td>{{customer.phoneNumber.countryCode}}</td>
                        <td>{{customer.phoneNumber.localNumber}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="mt-3">
        Items per Page:
        <select (change)="handlePageSizeChange($event)">
          <option *ngFor="let size of pageSizes" [ngValue]="size">
            {{ size }}
          </option>
        </select>
    </div>
</div>
